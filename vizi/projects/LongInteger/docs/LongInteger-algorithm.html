<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
  <title>Длинная арифметика - описание алгоритма</title>
  <style type = "text/css">
    body {
        font-family: Times New Roman;
        font-size: 12pt;
    }
  </style>
</head>
<body>
  <h1 align=center>Длинная арифметика - описание алгоритма</h1>
  Для всех нижеприведённых алгоритмов хранится два массива для начальных чисел <b>a</b> и <b>b</b>, а ответ записывается в массив <b>c</b>.
  Индексация в массивах такова, что последняя цифра каждого числа это нулевой элемент в массиве.
  Для первых трёх алгоритмов используются переменные k&nbsp;-&nbsp;остаток, t&nbsp;-&nbsp;временный&nbsp;результат.
  
  <h2 align=center>Сложение</h2>
  Для вычисления суммы двух чиcел требуется:
  <ol>
  <li>Инициализация: i = 0; k = 0;
  <li>На i-том шаге: Сначало складываем t = a[i] + b[i] + k. Далее записываем в c[i] = t mod 10; k = t div 10; i = i + 1;
  <li>Если i < max(length a, length b) то переходим к шагу 2
  <li>В случае ненулевого остатка, сообщаем о переполнении.
  <li>Завершаем алгоритм. 
  </ol>
  
  <h2 align=center>Вычитание</h2>
  Для вычисления разности двух чисел (a > b) требуется:
  <ol>
  <li>Инициализация: i = 0; k = 0;
  <li>На i-том шаге: Сначала складываем t = a[i] - b[i] + k; Далее записываем в c[i] = t mod 10; k = t div 10; <nobr>(mod, div - алгебраические, т.е. (-4)&nbsp;mod&nbsp;10&nbsp;=&nbsp;6)
  <li>i = i + 1. Если i < max(length a, length b) то переходим к шагу 2
  <li>Завершаем алгоритм. 
  </ol>

  <h2 align=center>Классическое умножение<br>Умножение за O(n<sup>2</sup>)</h2>
  Для вычисления произведения двух чисел требуется:
  <ol>
  <li>Инициализация 1: j = 0;
  <li>Инициализация 2: i = 0; k = 0;
  <li>На i-том шаге: Сначала складываем t = a[i] · b[i] + c[i + j] + k; Далее записываем в c[i + j] = t mod 10; k = t div 10;
  <li>Если остаток не нулевой, то c[i + j + 1] = k
  <li>i = i + 1; Если i < length b, то переходим к шагу 3
  <li>j = j + 1; Если j < length a, то переходим к шагу 2
  <li>Завершаем алгоритм. 
  </ol>

  <h2 align=center>Алгоритм Карацубы<br>Умножение за O(n<sup>lg3</sup>)</h2>
  Для вычисления произведения двух чисел требуется:
  <ol>
  <li>Разбиваем оба числа на части: a = A · 10<sup>k</sup> + B, b = C · 10<sup>k</sup> + D
  <li>Умножаем A · C
  <li>Складываем: A + B. Складываем B + D. Умножаем (A + B) · (C + D).
  <li>Умножаем B · D
  <li>a · b = A · C · (10<sup>2k</sup> - 10<sup>k</sup>) + (A + B) · (C + D) · 10<sup>k</sup> - B · D · (1 - 10<sup>k</sup>). &nbsp;
  <li>В результате вместо четырёх умножений делаем только три. Каждое из которых делаем рекурсивно с помощью этого же алгоритма.
  <li>Завершаем алгоритм. 
  </ol>

</body>
</html>
